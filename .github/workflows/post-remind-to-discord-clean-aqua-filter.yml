name: Discord reminder to clean aqua filter

on:
  workflow_dispatch:
  schedule:
    - cron: "0 21 * * 5" # é‡‘æ›œæ—¥ã®21:00ã«å®Ÿè¡Œ

jobs:
  # build:
  #   runs-on: ubuntu-latest
  #   steps:
  #     - name: Checkout code
  #       uses: actions/checkout@v2
  #     - name: Run on every other week
  #       run: |
  #         WEEK=$(date +"%V")
  #         if [ $((10#$WEEK % 2)) -eq 1 ]; then
  #           echo "Running on odd weeks (1st, 3rd, 5th week of a month)"
  #           # Define the task to be run
  #         else
  #           echo "This task will not run on even weeks (2nd, 4th week of a month)"
  remind:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v2
      - name: Set up Python
        uses: actions/setup-python@v2
        with:
          python-version: '3.9'
      - name: Install dependencies
        run: |
          python -m pip install requests
      - name: Notify Discord
        run: |
          python notify_discord.py \
            "${{ secrets.DISCORD_CLEAN_AQUA_WEBHOOK_URL }}" \
            "ğŸ¥ < AQUAã®ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼æƒé™¤ã‚’ã™ã‚‹ï¾‹ï¾Ÿï¾–ï¼ @everyone" \
            "Click me!" \
            "ãŠæƒé™¤ãŠç–²ã‚Œæ§˜ï¾‹ï¾Ÿï¾–ï¼"
